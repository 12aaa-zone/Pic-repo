1
00:00:00,000 --> 00:00:02,240
接下来我们来去做发布服

2
00:00:02,240 --> 00:00:04,720
当我们在这个啊在这个地方呢

3
00:00:04,720 --> 00:00:06,960
我们把对应的这个service这个注解

4
00:00:06,960 --> 00:00:08,040
我们拿到之后呢

5
00:00:08,040 --> 00:00:12,800
我们希望呢把这个数捷呃就是注解所标识的这个并啊

6
00:00:12,800 --> 00:00:15,440
所标识这个并下面的这个所有的方法呢

7
00:00:15,440 --> 00:00:18,560
我们都给他发布为对应的一个服务

8
00:00:18,560 --> 00:00:18,920
对吧

9
00:00:18,920 --> 00:00:19,080
哎

10
00:00:19,080 --> 00:00:20,200
发布对应服务

11
00:00:20,200 --> 00:00:21,640
那么我们在这个地方呢

12
00:00:21,640 --> 00:00:23,400
我们去新建这么一个

13
00:00:23,400 --> 00:00:25,800
嗯

14
00:00:25,800 --> 00:00:27,800
满层service

15
00:00:27,800 --> 00:00:31,800
provider啊我们来建立这么一个provider

16
00:00:31,800 --> 00:00:32,320
然后呢

17
00:00:32,320 --> 00:00:34,960
这个地方我们把它称为是服务提供方啊

18
00:00:34,960 --> 00:00:35,960
服务提供方

19
00:00:35,960 --> 00:00:38,600
那么我们在服务提供方在这用的时候呢

20
00:00:38,600 --> 00:00:39,720
我们在这个地方呢

21
00:00:39,720 --> 00:00:42,320
把它呢扔到这个上面来啊

22
00:00:42,320 --> 00:00:44,360
我们在这个地方来去用

23
00:00:44,360 --> 00:00:45,720
那么首先呢

24
00:00:45,720 --> 00:00:49,800
在这个里面我们来给他对应的做一个实例化啊

25
00:00:49,800 --> 00:00:50,600
实例化

26
00:00:50,600 --> 00:00:52,200
那么我们在这个地方呢

27
00:00:52,200 --> 00:00:54,720
来给他做对应的一个发布服务

28
00:00:54,720 --> 00:01:00,120
那么我们就做public service啊

29
00:01:00,120 --> 00:01:00,640
然后呢

30
00:01:00,640 --> 00:01:02,720
我们把对应的这个注解呢

31
00:01:02,720 --> 00:01:05,760
因为注解里面有可能会有一些参数

32
00:01:05,760 --> 00:01:06,720
我们要去使用

33
00:01:06,720 --> 00:01:07,040
对吧

34
00:01:07,040 --> 00:01:07,400
然后呢

35
00:01:07,400 --> 00:01:08,200
我们把这个并呢

36
00:01:08,200 --> 00:01:09,640
我们给他传进去

37
00:01:09,640 --> 00:01:10,320
也就是说呢

38
00:01:10,320 --> 00:01:13,320
我们要去发布对应的这样的一个服务啊

39
00:01:13,320 --> 00:01:17,040
来去到我们的这个服务提供方

40
00:01:17,040 --> 00:01:17,640
然后呢

41
00:01:17,640 --> 00:01:18,840
便于对应的一个调用

42
00:01:18,840 --> 00:01:19,200
对吧

43
00:01:19,200 --> 00:01:20,160
便于调用

44
00:01:20,160 --> 00:01:20,760
然后呢

45
00:01:20,760 --> 00:01:22,160
我们这发布完之后呢

46
00:01:22,160 --> 00:01:23,040
那么这个地方呢

47
00:01:23,040 --> 00:01:26,920
我们说这个是采取这个new的这种方式来应用的啊

48
00:01:26,920 --> 00:01:27,320
当然了

49
00:01:27,320 --> 00:01:27,880
理论上呢

50
00:01:27,880 --> 00:01:32,320
我们的这个并pulse的processor啊

51
00:01:32,320 --> 00:01:34,680
那么他在这个使用的时候呢

52
00:01:34,680 --> 00:01:35,840
实际上本质上呢

53
00:01:35,840 --> 00:01:38,320
他是只会调用一次啊

54
00:01:38,320 --> 00:01:39,840
他只会出手画一次啊

55
00:01:39,840 --> 00:01:40,480
因为毕竟呢

56
00:01:40,480 --> 00:01:42,480
他是交给spring来去管理的嘛

57
00:01:42,480 --> 00:01:44,040
因为我们是在

58
00:01:44,040 --> 00:01:45,120
嗯

59
00:01:45,120 --> 00:01:46,200
在我们的这个地方啊

60
00:01:46,200 --> 00:01:49,640
因为我们这这个地方是不是在我们的应用里面只引用了一次啊

61
00:01:49,640 --> 00:01:51,440
所以他就input了一次

62
00:01:51,440 --> 00:01:51,920
但是呢

63
00:01:51,920 --> 00:01:53,600
这个地方有一些风险啊

64
00:01:53,600 --> 00:01:54,640
有一些什么风险呢

65
00:01:54,640 --> 00:01:55,280
就是万一呢

66
00:01:55,280 --> 00:01:57,520
你你这个nm这个注解啊

67
00:01:57,520 --> 00:02:00,040
这个这个比如说你在多处地方使用的话

68
00:02:00,040 --> 00:02:03,160
那很明显你就会导致什么导入多个对吧

69
00:02:03,160 --> 00:02:03,320
哎

70
00:02:03,320 --> 00:02:05,680
导入多个那么导入多个的话

71
00:02:05,680 --> 00:02:07,000
在这种呢

72
00:02:07,000 --> 00:02:08,560
这种风险还是有的啊

73
00:02:08,560 --> 00:02:12,440
理论上是不会帮我们去进行对那一些病的管理啊

74
00:02:12,440 --> 00:02:14,880
尽量的他默认的都是单类的一个管理啊

75
00:02:14,880 --> 00:02:17,280
但是他本质上的这个风险还是有的

76
00:02:17,280 --> 00:02:17,840
也就是说

77
00:02:17,840 --> 00:02:20,240
我们希望的在这个构造方法里面

78
00:02:20,240 --> 00:02:22,120
我们在这个地方用的时候呢

79
00:02:22,120 --> 00:02:23,400
我们希望呢

80
00:02:23,400 --> 00:02:23,720
呃

81
00:02:23,720 --> 00:02:26,960
用一个单类的工厂来去生产这个对象

82
00:02:26,960 --> 00:02:30,360
而不是我们直接去new的这种方式来去做啊

83
00:02:30,360 --> 00:02:33,000
那么我们要保证一些这个现成安全啊

84
00:02:33,000 --> 00:02:35,000
要保证一些现成安全

85
00:02:35,000 --> 00:02:35,920
所以呢

86
00:02:35,920 --> 00:02:36,840
在这个里面呢

87
00:02:36,840 --> 00:02:37,640
我们呢

88
00:02:37,640 --> 00:02:38,840
就呃

89
00:02:38,840 --> 00:02:40,760
做这么一个单类工厂啊

90
00:02:40,760 --> 00:02:41,480
单类工厂

91
00:02:41,480 --> 00:02:44,920
那么我们来去生产我们对应的这么一个呃

92
00:02:44,920 --> 00:02:45,520
并啊

93
00:02:45,520 --> 00:02:47,440
就是生产这么一个实例对象啊

94
00:02:47,440 --> 00:02:50,640
这样我们保证的他的一个现成安全啊

95
00:02:50,640 --> 00:02:51,640
就这么一回事

96
00:02:51,640 --> 00:02:52,080
然后呢

97
00:02:52,080 --> 00:02:52,440
所以呢

98
00:02:52,440 --> 00:02:53,440
我们在这个地方呢

99
00:02:53,440 --> 00:02:55,160
创建对应的一个单类工厂

100
00:02:55,160 --> 00:02:57,320
那么我们在这个地方搞一个包啊

101
00:02:57,320 --> 00:02:58,480
叫做factory

102
00:02:58,480 --> 00:02:59,040
然后呢

103
00:02:59,040 --> 00:03:02,160
我们把这个单类工厂我们给他拷贝进来啊

104
00:03:02,160 --> 00:03:03,440
我们来去看一下

105
00:03:03,440 --> 00:03:04,800
那么我们在上面呢

106
00:03:04,800 --> 00:03:05,920
做了一个map啊

107
00:03:05,920 --> 00:03:06,680
做了一个map

108
00:03:06,680 --> 00:03:07,800
那么我们这个map呢

109
00:03:07,800 --> 00:03:09,800
它是一个concurrent还是map

110
00:03:09,800 --> 00:03:11,120
现成安全的哈希map

111
00:03:11,120 --> 00:03:11,560
对吧

112
00:03:11,560 --> 00:03:11,760
哎

113
00:03:11,760 --> 00:03:12,360
ok

114
00:03:12,360 --> 00:03:13,600
然后呢

115
00:03:13,600 --> 00:03:15,200
我们的这个单类工厂很明显啊

116
00:03:15,200 --> 00:03:17,400
单类里面是不是构造方法都是私有的啊

117
00:03:17,400 --> 00:03:18,960
也也就外部你不能用

118
00:03:18,960 --> 00:03:20,120
然后呢

119
00:03:20,120 --> 00:03:22,080
我们提供了一个获取实例

120
00:03:22,080 --> 00:03:22,560
然后呢

121
00:03:22,560 --> 00:03:23,400
这个实例里面呢

122
00:03:23,400 --> 00:03:25,480
我们传递了这么一个类型

123
00:03:25,480 --> 00:03:25,840
对吧

124
00:03:25,840 --> 00:03:26,040
哎

125
00:03:26,040 --> 00:03:26,680
类型

126
00:03:26,680 --> 00:03:27,280
然后呢

127
00:03:27,280 --> 00:03:29,040
我们在这个类型里面呢

128
00:03:29,040 --> 00:03:29,960
我们直接呢

129
00:03:29,960 --> 00:03:31,320
就看对应的这个

130
00:03:31,320 --> 00:03:32,360
因为你这个地方

131
00:03:32,360 --> 00:03:34,720
to screen是不是就累的这么一个全称啊

132
00:03:34,720 --> 00:03:37,520
那么我们就看一下我们的这个map里面

133
00:03:37,520 --> 00:03:39,640
到底有没有包含啊

134
00:03:39,640 --> 00:03:41,200
如果有包含

135
00:03:41,200 --> 00:03:42,880
我们就直接返回对应的实例

136
00:03:42,880 --> 00:03:43,920
如果没有包含呢

137
00:03:43,920 --> 00:03:45,960
我们就你有一个对应的一个实例

138
00:03:45,960 --> 00:03:46,800
那么啊

139
00:03:46,800 --> 00:03:47,720
这样来说的话

140
00:03:47,720 --> 00:03:50,400
我们就就根据这样的这么一个安全的

141
00:03:50,400 --> 00:03:52,160
现成安全的这么一个配置啊

142
00:03:52,160 --> 00:03:54,440
那么我们来保证我们生成的这个单类呢

143
00:03:54,440 --> 00:03:56,640
我们尽量保证它是唯一的

144
00:03:56,640 --> 00:03:57,200
ok

145
00:03:57,200 --> 00:03:58,240
那么我们在这呢

146
00:03:58,240 --> 00:03:59,600
实际上可以测试一下

147
00:03:59,600 --> 00:04:00,880
那么比如说我们在这呢

148
00:04:00,880 --> 00:04:03,120
开启一个对应的现成池啊

149
00:04:03,120 --> 00:04:04,600
给他一个100个现成池

150
00:04:04,600 --> 00:04:05,080
然后呢

151
00:04:05,080 --> 00:04:05,760
我们

152
00:04:05,760 --> 00:04:06,200
呃

153
00:04:06,200 --> 00:04:07,320
就是循环100下啊

154
00:04:07,320 --> 00:04:07,880
就是当然了

155
00:04:07,880 --> 00:04:08,640
他循环一次呢

156
00:04:08,640 --> 00:04:10,680
因为我们现成池的开启有100个啊

157
00:04:10,680 --> 00:04:11,480
所以每一个呢

158
00:04:11,480 --> 00:04:11,880
操作呢

159
00:04:11,880 --> 00:04:14,920
他都会扔到一个现成池现成里面去执行

160
00:04:14,920 --> 00:04:15,440
所以呢

161
00:04:15,440 --> 00:04:16,120
这相当于呢

162
00:04:16,120 --> 00:04:18,200
我们就相当于100次的这么一个

163
00:04:18,200 --> 00:04:19,320
这么一个操作啊

164
00:04:19,320 --> 00:04:20,960
现成的这么一个编发操作

165
00:04:20,960 --> 00:04:23,320
那么我们可以直接运行一下

166
00:04:23,320 --> 00:04:24,040
你可以看到啊

167
00:04:24,040 --> 00:04:25,560
瞬间打印出来这么多

168
00:04:25,560 --> 00:04:27,960
那么我们可以看到打印出来都是同一个类

169
00:04:27,960 --> 00:04:28,320
对吧

170
00:04:28,320 --> 00:04:28,520
哎

171
00:04:28,520 --> 00:04:30,480
也没有什么任何问题啊

172
00:04:30,480 --> 00:04:30,840
所以呢

173
00:04:30,840 --> 00:04:32,640
我们用这种方式来去做的话

174
00:04:32,640 --> 00:04:34,360
相对会好一些啊

175
00:04:34,360 --> 00:04:35,280
相对会好一些

176
00:04:35,280 --> 00:04:35,840
ok

177
00:04:35,840 --> 00:04:36,400
所以呢

178
00:04:36,400 --> 00:04:37,680
我们在这个地方呢

179
00:04:37,680 --> 00:04:39,040
我们用这种方式

180
00:04:39,040 --> 00:04:39,440
哎

181
00:04:39,440 --> 00:04:41,480
用工厂的这种形式啊

182
00:04:41,480 --> 00:04:42,600
我们来去

183
00:04:42,600 --> 00:04:43,440
哎

184
00:04:43,440 --> 00:04:45,880
构造我们的这个这个对象啊

185
00:04:45,920 --> 00:04:47,120
这样我们能保证啊

186
00:04:47,120 --> 00:04:48,920
他永远这个地方都是唯一的啊

187
00:04:48,920 --> 00:04:49,440
即使呢

188
00:04:49,440 --> 00:04:51,760
你你像你这个地方调用了多次

189
00:04:51,760 --> 00:04:55,240
那么我们也能保证我工厂生产出来的这个这个这个实例呢

190
00:04:55,240 --> 00:04:56,720
他是唯一的啊

191
00:04:56,720 --> 00:04:57,560
他是唯一的

192
00:04:57,560 --> 00:04:58,320
而且呢

193
00:04:58,320 --> 00:05:00,640
他还有一个有一些什么什么用处啊

194
00:05:00,640 --> 00:05:02,440
就是我们呢

195
00:05:02,440 --> 00:05:02,960
嗯

196
00:05:02,960 --> 00:05:04,960
这个这个是一一方面啊

197
00:05:04,960 --> 00:05:06,360
就防止这个地方啊

198
00:05:06,360 --> 00:05:07,520
有这个现成安全问题

199
00:05:07,520 --> 00:05:08,680
还有一方面就是什么呢

200
00:05:08,680 --> 00:05:10,320
就是我们的这个provider啊

201
00:05:10,320 --> 00:05:13,680
他有可能是在别的类里面也需要使用

202
00:05:13,680 --> 00:05:14,480
那么

203
00:05:14,480 --> 00:05:16,240
有可能也需要使用的话

204
00:05:16,240 --> 00:05:16,760
也就是说

205
00:05:16,760 --> 00:05:18,280
你在这个地方你有了之后

206
00:05:18,280 --> 00:05:20,080
那别的地方怎么能拿到他

207
00:05:20,080 --> 00:05:22,000
你有的这个这个这个实例呢

208
00:05:22,000 --> 00:05:23,560
好像我们就拿不到了

209
00:05:23,560 --> 00:05:25,840
那么我们用单力工厂的这种形式的话

210
00:05:25,840 --> 00:05:28,440
那我可以到处在各个地方来去使用

211
00:05:28,440 --> 00:05:30,200
那么我因为单力工厂里面

212
00:05:30,200 --> 00:05:31,560
我都是工厂生产出来的

213
00:05:31,560 --> 00:05:33,880
那我到处拿的都是同一个实例

214
00:05:33,880 --> 00:05:34,640
所以呢

215
00:05:34,640 --> 00:05:34,880
哎

216
00:05:34,880 --> 00:05:35,960
这样使用起来呢

217
00:05:35,960 --> 00:05:37,640
也更加方便一些

218
00:05:37,640 --> 00:05:38,000
好吧

219
00:05:38,000 --> 00:05:38,160
哎

220
00:05:38,160 --> 00:05:39,560
这个地方大家要

221
00:05:39,560 --> 00:05:40,880
了解一下啊

222
00:05:40,880 --> 00:05:42,760
那么我们这个地方写一下吧

223
00:05:42,760 --> 00:05:43,720
我们写个速试吧

224
00:05:43,720 --> 00:05:44,840
这个地方是

225
00:05:44,840 --> 00:05:48,880
一个是防止百现成问题

226
00:05:48,880 --> 00:05:50,400
啊

227
00:05:50,400 --> 00:05:55,480
第二个是我们是便于其他类使用

228
00:05:55,480 --> 00:05:57,120
那么还便于其他类使用

229
00:05:57,120 --> 00:05:57,720
ok

230
00:05:57,720 --> 00:05:59,440
那么这个做完之后呢

231
00:05:59,440 --> 00:06:02,560
我们接下来就要去做这里面的这个事情了

232
00:06:02,560 --> 00:06:03,360
那么我们这呢

233
00:06:03,360 --> 00:06:05,840
要对应的发布一个服务

234
00:06:05,840 --> 00:06:06,200
对吧

235
00:06:06,200 --> 00:06:06,400
哎

236
00:06:06,400 --> 00:06:07,640
发布一个服务

237
00:06:07,640 --> 00:06:08,800
那么也就是说呢

238
00:06:08,800 --> 00:06:11,760
我们要把对应的这个下面啊

239
00:06:11,760 --> 00:06:13,280
就是我们的方法呢

240
00:06:13,280 --> 00:06:15,720
我们是不是要发布为对应的一个服务啊

241
00:06:15,720 --> 00:06:17,680
也就是说我们在这儿啊

242
00:06:17,680 --> 00:06:19,600
我们在这个位置上

243
00:06:19,600 --> 00:06:21,800
来啊

244
00:06:21,800 --> 00:06:23,040
我们在这个位置上

245
00:06:23,040 --> 00:06:24,440
我们在这个位置上

246
00:06:24,440 --> 00:06:27,800
在进行对应的一个发布服务的时候呢

247
00:06:27,800 --> 00:06:28,960
我们在这个里面呢

248
00:06:28,960 --> 00:06:30,160
要通过打

249
00:06:30,160 --> 00:06:31,880
要拿到所有的一个方法

250
00:06:31,880 --> 00:06:33,200
那么我们在这儿啊

251
00:06:33,200 --> 00:06:34,480
我们在这个地方呢

252
00:06:34,480 --> 00:06:35,320
我们呢

253
00:06:35,320 --> 00:06:37,200
找到对应的这个啊

254
00:06:37,200 --> 00:06:38,680
我们来在这个地方呢

255
00:06:38,680 --> 00:06:40,640
我们给它打印一下

256
00:06:40,640 --> 00:06:42,160
我们给它打印一下

257
00:06:42,760 --> 00:06:43,240
嗯

258
00:06:43,240 --> 00:06:44,440
我们打印什么呢

259
00:06:44,440 --> 00:06:49,040
我们是get这个interface啊

260
00:06:49,040 --> 00:06:49,720
然后呢

261
00:06:49,720 --> 00:06:51,800
我们呃在这个里面啊

262
00:06:51,800 --> 00:06:52,680
因为这个币呢

263
00:06:52,680 --> 00:06:53,760
它是一个素组啊

264
00:06:53,760 --> 00:06:54,200
素组呢

265
00:06:54,200 --> 00:06:56,040
一般来说我们只有一个实例的话

266
00:06:56,040 --> 00:06:57,520
那我们肯定是零

267
00:06:57,520 --> 00:06:58,120
然后呢

268
00:06:58,120 --> 00:07:02,800
我们拿到这里面的所有的这个我们看一下

269
00:07:02,800 --> 00:07:05,520
应该是拿到get

270
00:07:05,520 --> 00:07:06,960
哎

271
00:07:06,960 --> 00:07:07,680
这个值啊

272
00:07:07,680 --> 00:07:09,120
那我们来拿一下

273
00:07:09,120 --> 00:07:09,400
哎

274
00:07:09,400 --> 00:07:09,920
这个值

275
00:07:09,920 --> 00:07:10,920
那么我们来

276
00:07:11,440 --> 00:07:11,840
嗯

277
00:07:11,840 --> 00:07:12,520
打印一下

278
00:07:12,520 --> 00:07:12,920
好吧

279
00:07:12,920 --> 00:07:13,080
哎

280
00:07:13,080 --> 00:07:13,400
然后呢

281
00:07:13,400 --> 00:07:14,400
我们在前面呢

282
00:07:14,400 --> 00:07:15,760
拿上这个值

283
00:07:15,760 --> 00:07:17,040
来打印一下

284
00:07:17,040 --> 00:07:17,600
ok

285
00:07:17,600 --> 00:07:17,720
啊

286
00:07:17,720 --> 00:07:18,320
这个地方呢

287
00:07:18,320 --> 00:07:20,280
我们来再来重启一下

288
00:07:20,280 --> 00:07:21,880
我们的这个provider啊

289
00:07:21,880 --> 00:07:23,080
这个地方你写到这儿呢

290
00:07:23,080 --> 00:07:24,080
因为你不知道的话

291
00:07:24,080 --> 00:07:25,360
你就实际的打印一下

292
00:07:25,360 --> 00:07:27,280
或者说你直接的打个断点啊

293
00:07:27,280 --> 00:07:29,360
你在这个地方拿一下就行了

294
00:07:29,360 --> 00:07:30,880
你看我们在这个里面

295
00:07:30,880 --> 00:07:33,800
这是不是就拿到了对应的对应的一个接口啊

296
00:07:33,800 --> 00:07:34,160
哎

297
00:07:34,160 --> 00:07:37,440
这个地方是不是我们就拿到了对应的一个接口啊

298
00:07:37,440 --> 00:07:37,840
对吧

299
00:07:37,840 --> 00:07:38,040
哎

300
00:07:38,040 --> 00:07:39,840
我们就拿到了对应的一个接口

301
00:07:39,880 --> 00:07:43,280
那么拿到对应的一个接口之后呢

302
00:07:43,280 --> 00:07:44,080
那很明显啊

303
00:07:44,080 --> 00:07:45,920
我们是不是就要把这个接口呢

304
00:07:45,920 --> 00:07:48,520
我们给它暴露为对应的一个服务啊

305
00:07:48,520 --> 00:07:48,920
对吧

306
00:07:48,920 --> 00:07:49,160
哎

307
00:07:49,160 --> 00:07:50,480
暴露为对应的一个服务

308
00:07:50,480 --> 00:07:51,040
ok

309
00:07:51,040 --> 00:07:51,600
哎

310
00:07:51,600 --> 00:07:52,240
所以呢

311
00:07:52,240 --> 00:07:53,880
我们在这个位置上啊

312
00:07:53,880 --> 00:07:56,680
那么我们这呢就叫做一个

313
00:07:56,680 --> 00:07:58,200
哎

314
00:07:58,200 --> 00:08:00,120
registr

315
00:08:00,120 --> 00:08:01,800
registered service

316
00:08:01,800 --> 00:08:02,040
啊

317
00:08:02,040 --> 00:08:02,920
registered service

318
00:08:02,920 --> 00:08:03,680
当然了

319
00:08:03,680 --> 00:08:05,560
我们这个地方改个名字啊

320
00:08:05,560 --> 00:08:06,280
好听一点啊

321
00:08:06,280 --> 00:08:07,520
我们就叫一个服务

322
00:08:07,520 --> 00:08:07,840
对吧

323
00:08:07,840 --> 00:08:08,040
哎

324
00:08:08,040 --> 00:08:08,520
service

325
00:08:08,520 --> 00:08:09,160
ok

326
00:08:09,280 --> 00:08:10,080
然后呢

327
00:08:10,080 --> 00:08:10,360
嗯

328
00:08:10,360 --> 00:08:11,640
我们在这个里面呢

329
00:08:11,640 --> 00:08:14,200
我们这呢注册我们对应的这个啊

330
00:08:14,200 --> 00:08:14,560
然后呢

331
00:08:14,560 --> 00:08:15,880
我们同样道理把这个呢

332
00:08:15,880 --> 00:08:17,360
我们也给它传进去

333
00:08:17,360 --> 00:08:17,840
ok

334
00:08:17,840 --> 00:08:18,360
然后呢

335
00:08:18,360 --> 00:08:20,000
注册我们的一个service

336
00:08:20,000 --> 00:08:20,760
然后呢

337
00:08:20,760 --> 00:08:21,200
首先呢

338
00:08:21,200 --> 00:08:22,600
我们从这个service里面呢

339
00:08:22,600 --> 00:08:24,640
我们拿到对应的一个版本啊

340
00:08:24,640 --> 00:08:26,600
这个地方版本要拿到

341
00:08:26,600 --> 00:08:27,200
然后呢

342
00:08:27,200 --> 00:08:28,360
这个方法呢

343
00:08:28,360 --> 00:08:32,120
这是不是我们整个这个接口的这块的一个一个信息啊

344
00:08:32,120 --> 00:08:32,440
对吧

345
00:08:32,440 --> 00:08:32,600
哎

346
00:08:32,600 --> 00:08:34,120
接口的这么一个信息

347
00:08:34,120 --> 00:08:34,800
ok

348
00:08:34,800 --> 00:08:36,280
那么我们现在呢

349
00:08:36,280 --> 00:08:38,000
要把这两个信息呢

350
00:08:38,000 --> 00:08:40,280
我们要给它注册

351
00:08:40,280 --> 00:08:40,600
对吧

352
00:08:40,600 --> 00:08:40,800
哎

353
00:08:40,800 --> 00:08:42,440
我们要给它注册上去

354
00:08:42,440 --> 00:08:43,000
ok

355
00:08:43,000 --> 00:08:44,880
那么我们在注册的时候呢

356
00:08:44,880 --> 00:08:46,280
我们在这个地方

357
00:08:46,280 --> 00:08:49,440
我们要做还是要做这么一个map

358
00:08:49,440 --> 00:08:49,640
啊

359
00:08:49,640 --> 00:08:51,680
我们还是要做这么一个map

360
00:08:51,680 --> 00:08:52,960
哎

361
00:08:52,960 --> 00:08:55,600
哎

362
00:08:55,600 --> 00:08:56,840
当然了

363
00:08:56,840 --> 00:08:57,360
这个地方呢

364
00:08:57,360 --> 00:09:00,760
我们要去写一个构造方法啊

365
00:09:00,760 --> 00:09:02,600
我们来去把这个值呢

366
00:09:02,600 --> 00:09:04,240
我们来找一下

367
00:09:04,240 --> 00:09:05,760
那么service map呢

368
00:09:05,760 --> 00:09:08,400
等于一个new current hash map啊

369
00:09:08,400 --> 00:09:10,560
还是一个现成安全的一个hash map

370
00:09:10,560 --> 00:09:11,120
然后呢

371
00:09:11,120 --> 00:09:12,840
我们给它new出来之后呢

372
00:09:12,840 --> 00:09:14,120
我们在这个里面呢

373
00:09:14,120 --> 00:09:16,160
我们给它put一下

374
00:09:16,160 --> 00:09:17,640
那么put谁呢

375
00:09:17,640 --> 00:09:18,920
我们在这个地方呢

376
00:09:18,920 --> 00:09:20,120
put的这个k呢

377
00:09:20,120 --> 00:09:21,240
我们就叫做

378
00:09:21,240 --> 00:09:21,520
哎

379
00:09:21,520 --> 00:09:24,080
它加上对应的一个washing啊

380
00:09:24,080 --> 00:09:25,400
加上对应的一个washing

381
00:09:25,400 --> 00:09:25,920
然后呢

382
00:09:25,920 --> 00:09:26,400
value呢

383
00:09:26,400 --> 00:09:28,160
就是我们对应的一个service啊

384
00:09:28,160 --> 00:09:30,720
这样我们通过这个service provider呢

385
00:09:30,720 --> 00:09:33,360
我们就把我们要发布的这个服务呢

386
00:09:33,360 --> 00:09:36,400
我们首先扔到了对应的这个service啊

387
00:09:36,400 --> 00:09:36,840
呃

388
00:09:36,840 --> 00:09:37,920
这个里面去啊

389
00:09:37,920 --> 00:09:39,600
扔到了对应的这个里面去

390
00:09:39,600 --> 00:09:40,240
ok

391
00:09:40,240 --> 00:09:41,520
那么我们这样的话

392
00:09:41,520 --> 00:09:42,680
我们就相当于呢

393
00:09:42,680 --> 00:09:43,920
我们保存起来了啊

394
00:09:43,920 --> 00:09:44,880
保存起来之后呢

395
00:09:44,880 --> 00:09:45,400
实际上呢

396
00:09:45,400 --> 00:09:46,360
我们在这个地方呢

397
00:09:46,360 --> 00:09:47,440
还要去

398
00:09:47,440 --> 00:09:47,960
呃

399
00:09:47,960 --> 00:09:48,680
这个地方啊

400
00:09:48,680 --> 00:09:51,560
这个这个去启动我们对应的一个

401
00:09:51,560 --> 00:09:53,040
native server啊

402
00:09:53,040 --> 00:09:56,080
我们要去启动我们对应的这么一个native server

403
00:09:56,080 --> 00:09:58,760
那么呃这个是我们对应的啊

404
00:09:58,760 --> 00:09:59,280
接下来呢

405
00:09:59,280 --> 00:10:00,080
我们在这儿啊

406
00:10:00,080 --> 00:10:02,320
要启动我们的native

407
00:10:02,640 --> 00:10:04,240
server啊

408
00:10:04,240 --> 00:10:04,760
哎

409
00:10:04,760 --> 00:10:05,560
native server

410
00:10:05,560 --> 00:10:06,040
哎

411
00:10:06,040 --> 00:10:07,480
s er 为 e2啊

412
00:10:07,480 --> 00:10:08,040
ok

413
00:10:08,040 --> 00:10:09,480
然后呢

414
00:10:09,480 --> 00:10:10,840
上面这个先注册掉

415
00:10:10,840 --> 00:10:12,480
那么我们注册进来之后呢

416
00:10:12,480 --> 00:10:13,680
那么有注册呢

417
00:10:13,680 --> 00:10:14,600
我们自然呢

418
00:10:14,600 --> 00:10:16,680
就有这个获取对吧

419
00:10:16,680 --> 00:10:16,840
哎

420
00:10:16,840 --> 00:10:17,640
我们这呢

421
00:10:17,640 --> 00:10:19,360
就就有对应的一个获取啊

422
00:10:19,360 --> 00:10:20,040
那么获取呢

423
00:10:20,040 --> 00:10:21,280
就是get object

424
00:10:21,280 --> 00:10:22,960
那么我们get service

425
00:10:22,960 --> 00:10:23,720
然后呢

426
00:10:23,720 --> 00:10:24,880
我们在这个里面呢

427
00:10:24,880 --> 00:10:26,200
我们可以外部呢

428
00:10:26,200 --> 00:10:29,200
给我们传递对应的这么一个service啊

429
00:10:29,200 --> 00:10:29,720
name

430
00:10:29,720 --> 00:10:30,880
那么我们可以呢

431
00:10:30,880 --> 00:10:33,040
就return这个service map呢

432
00:10:33,040 --> 00:10:35,920
我们就可以通过这个service的一个内容啊

433
00:10:35,920 --> 00:10:39,480
我们就可以很方便的拿到我们发布的这个

434
00:10:39,480 --> 00:10:41,240
对应的这个这个这个类对吧

435
00:10:41,240 --> 00:10:41,400
哎

436
00:10:41,400 --> 00:10:42,560
对应的这个并啊

437
00:10:42,560 --> 00:10:44,240
你拿到这个并怎么办呢

438
00:10:44,240 --> 00:10:44,360
啊

439
00:10:44,360 --> 00:10:45,880
到时候我们通过这个并呢

440
00:10:45,880 --> 00:10:48,880
直接直接调用我们那个方法是不是就可以了

441
00:10:48,880 --> 00:10:50,560
因为你你到时候呢

442
00:10:50,560 --> 00:10:52,080
呃你在这边啊

443
00:10:52,080 --> 00:10:54,240
因为你在这边调用的这个方法

444
00:10:54,240 --> 00:10:56,000
实际上就是这个service的方法啊

445
00:10:56,000 --> 00:10:56,320
所以呢

446
00:10:56,320 --> 00:10:59,520
这个方法肯定和我们在这儿的这个并呢

447
00:10:59,520 --> 00:11:02,840
就是你你这个并所在的这个方法肯定是一致的啊

448
00:11:02,840 --> 00:11:04,000
我们是能拿到的

449
00:11:04,000 --> 00:11:04,480
好吧

450
00:11:04,480 --> 00:11:05,080
ok

451
00:11:05,080 --> 00:11:06,080
这样我们呢

452
00:11:06,080 --> 00:11:07,280
这个服务发布了

453
00:11:07,280 --> 00:11:08,280
我们基本上呢

454
00:11:08,280 --> 00:11:11,080
就呃这个地方我们就完成了

455
00:11:11,080 --> 00:11:11,960
完成了之后呢

456
00:11:11,960 --> 00:11:12,520
接下来呢

457
00:11:12,520 --> 00:11:13,840
我们就是要做什么呢

458
00:11:13,840 --> 00:11:16,080
接下来我们就是要写我们的这个

459
00:11:16,080 --> 00:11:17,080
nete server了

460
00:11:17,080 --> 00:11:17,480
因为呢

461
00:11:17,480 --> 00:11:19,360
我们要去搞一个服务啊

462
00:11:19,360 --> 00:11:22,080
人家这个调用方要要通过这个服务

463
00:11:22,080 --> 00:11:24,440
要把这个相关的这个信息给我们

464
00:11:24,440 --> 00:11:25,880
呃这个传过来嘛

465
00:11:25,880 --> 00:11:27,680
他要经过网络传输传过来

466
00:11:27,680 --> 00:11:29,040
要不然我们这儿呢

